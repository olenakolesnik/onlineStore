{"version":3,"file":"handlers-C2WPp3QI.js","sources":["../../src/js/constants.js","../../src/js/storage.js","../../src/js/refs.js","../../src/js/render-function.js","../../src/js/products-api.js","../../src/js/helpers.js","../../src/js/modal.js","../../src/js/handlers.js"],"sourcesContent":["// https://dummyjson.com/docs/products - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –±–µ–∫–µ–Ω–¥—É, —Ä–æ–∑–¥—ñ–ª –ø—Ä–æ–¥—É–∫—Ç–∏\n// https://dummyjson.com/products?limit=10&skip=10 - –æ—Ç—Ä–∏–º–∞—Ç–∏ –≤—Å—ñ –ø—Ä–æ–¥—É–∫—Ç–∏ –∑ –ø–∞–≥—ñ–Ω–∞—Ü—ñ—î—é\n// https://dummyjson.com/products/1 - –æ—Ç—Ä–∏–º–∞—Ç–∏ –æ–¥–∏–Ω –ø—Ä–æ–¥—É–∫—Ç –ø–æ ID\n// https://dummyjson.com/products/search?q=nail - –ø–æ—à—É–∫ –ø—Ä–æ–¥—É–∫—Ç—É –ø–æ –∫–ª—é—á–æ–≤–æ–º—É —Å–ª–æ–≤—É\n// https://dummyjson.com/products/category-list - –æ—Ç—Ä–∏–º–∞—Ç–∏ —Å–ø–∏—Å–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä—ñ–π –ø—Ä–æ–¥—É–∫—Ç—ñ–≤\n// https://dummyjson.com/products/category/smartphones - –æ—Ç—Ä–∏–º–∞—Ç–∏ –ø—Ä–æ–¥—É–∫—Ç–∏ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó\n\n\n\nexport const BASE_URL = 'https://dummyjson.com/';\nexport const PRODUCTS_PER_PAGE = 12;\nexport const ENDPOINTS = {\n    categories: 'products/category-list',\n    products: 'products',\n};\nexport const THEME_KEY = 'theme';\nexport const LIGHT_THEME = 'theme-light';\nexport const DARK_THEME = 'theme-dark';","import { THEME_KEY } from \"./constants\";\n\nexport function getWishlist() {\n    const data = localStorage.getItem('wishlist');\n\n    return data ? JSON.parse(data) : [];\n}\nexport function saveWishlist(wishlist) {\n    localStorage.setItem('wishlist', JSON.stringify(wishlist));\n    updateWishlistCount();\n}\nexport function updateWishlistCount() {\n    const wishlist = getWishlist();\n    const countEl = document.querySelector('[data-wishlist-count]');\n    if (!countEl) return;\n    countEl.textContent = wishlist.length;\n}\n\nexport function getCart() {\n    const data = localStorage.getItem('cart');\n    return data ? JSON.parse(data) : [];\n  }\n\nexport function saveCart(cart) {\n    localStorage.setItem('cart', JSON.stringify(cart));\n    updateCartCount();\n  }\n  export function updateCartCount() {\n    const cart = getCart();\n  \n    const countEl = document.querySelector('.nav__count');\n    \n    if (!countEl) return;\n  \n    countEl.textContent = cart.length;\n  }\n  export function saveTheme(theme) {\n    localStorage.setItem(THEME_KEY, theme);\n  }\n  \n  export function loadTheme() {\n    return localStorage.getItem(THEME_KEY);\n  }","export const refs = {\n    categoryList: document.querySelector('ul.categories'),\n    productsList: document.querySelector('.products'),\n    loadMoreBtn: document.querySelector('.load-more-btn'),\n    notFound: document.querySelector('.not-found'),\n    modal: document.querySelector('.modal'),\n    modalProduct: document.querySelector('.modal-product'),\n    modalCloseBtn: document.querySelector('.modal__close-btn'),\n    searchForm: document.querySelector('.search-form'),\n    searchInput: document.querySelector('.search-form__input'),\n    searchFormBtn: document.querySelector('.search-form__btn'),\n    searchFormClearBtn: document.querySelector('.search-form__btn-clear'),\n    addToCartBtn: document.querySelector('.modal-product__cart-btn'),\n    themeBtn: document.querySelector('.theme-toggle-btn'),\nbody: document.body,\n}","\nimport { getCart, getWishlist, saveCart, saveWishlist, updateCartCount, updateWishlistCount } from \"./storage\";\nimport { refs } from \"./refs\";\n\nexport function renderCategories(data) {\n    const markup = data.map((category) => `\n<li class=\"categories__item\">\n   <button class=\"categories__btn\" type=\"button\">${category}</button>\n </li>`).join('');\n    refs.categoryList.innerHTML = markup;\n}\n\nexport function renderProducts(products) {\n    const markup = products.map(({id, thumbnail, title, brand, category, price}) => `\n       <li class=\"products__item\" data-id=\"${id}\">\n    <img class=\"products__image\" src=\"${thumbnail}\" alt=\"${title}\"/>\n    <p class=\"products__title\">${title}</p>\n    <p class=\"products__brand\"><span class=\"products__brand--bold\">Brand: ${brand}</span></p>\n    <p class=\"products__category\">Category: ${category}</p>\n    <p class=\"products__price\">Price: ${price}$</p>\n </li>`).join('');\n    refs.productsList.insertAdjacentHTML('beforeend', markup);\n}\nexport function clearProductsList() {\n    refs.productsList.innerHTML = '';\n}\nexport function showLoadMoreBtn() {\n   refs.loadMoreBtn.classList.remove('is-hidden');\n}\nexport function hideLoadMoreBtn() {\n    refs.loadMoreBtn.classList.add('is-hidden');\n}\nexport function renderModalProduct(product) {\n  if (!product) return;\n  const {\n    id,\n    thumbnail,\n    title,\n    description,\n    price,\n    shippingInformation,\n    returnPolicy,\n    tags,\n  } = product;\n    \n  const markup = `\n        <img class=\"modal-product__img\" src=\"${thumbnail}\" alt=\"${title}\" />\n    \n        <div class=\"modal-product__content\">\n          <p class=\"modal-product__title\">${title}</p>\n    \n          <ul class=\"modal-product__tags\">\n            ${tags.map(tag => `<li>${tag}</li>`).join('')}\n          </ul>\n    \n          <p class=\"modal-product__description\">${description}</p>\n         <p class=\"modal-product__shipping-information\">\n        Shipping: ${shippingInformation}\n      </p>\n\n      <p class=\"modal-product__return-policy\">\n        Return Policy: ${returnPolicy}\n      </p>\n          <p class=\"modal-product__price\">Price: $${price}</p>\n    \n           \n        </div>\n      `;\n    \n  refs.modalProduct.innerHTML = markup;\n  refs.modal.dataset.id = id;\n  const cartBtn = refs.modal.querySelector('.modal-product__btn--cart');\n  const cart = getCart();\n  \n  if (cart.includes(id)) {\n    cartBtn.textContent = 'Remove from Cart';\n  } else {\n    cartBtn.textContent = 'Add to Cart';\n  }\n  cartBtn.onclick = onCartBtnClick;\n\n  const wishlistBtn = refs.modal.querySelector('.modal-product__btn--wishlist');\n  const wishlist = getWishlist();\n\n  if (wishlist.includes(id)) {\n    wishlistBtn.textContent = 'Remove from Wishlist';\n  } else {\n    wishlistBtn.textContent = 'Add to Wishlist';\n  }\n  wishlistBtn.onclick = onWishlistBtnClick;\n}\n \n  function onCartBtnClick() {\n    const productId = Number(refs.modal.dataset.id);\n    let cart = getCart();\n    let wishlist = getWishlist();\n    if (cart.includes(productId)) {\n      // ‚ùå REMOVE\n      cart = cart.filter(id => id !== productId);\n      this.textContent = 'Add to Cart';\n    } else {\n      // ‚úÖ ADD\n      cart.push(productId);\n      this.textContent = 'Remove from Cart';\n      wishlist = wishlist.filter(id => id !== productId);\n    saveWishlist(wishlist);\n    updateWishlistCount();\n    }\n    saveCart(cart);\n    updateCartCount();\n  }\nfunction onWishlistBtnClick() {\n  const productId = Number(refs.modal.dataset.id);\n  let wishlist = getWishlist();\n  let cart = getCart();\n  if (wishlist.includes(productId)) {\n    wishlist = wishlist.filter(id => id !== productId);\n    this.textContent = 'Add to Wishlist';\n  } else {\n    wishlist.push(productId);\n    this.textContent = 'Remove from Wishlist';\n    cart = cart.filter(id => id !== productId);\n    saveCart(cart);\n    updateCartCount();\n  }\n  saveWishlist(wishlist);\n  updateWishlistCount();\n}\n    \nexport function renderProductsReplace(products) {\n  refs.productsList.innerHTML = products\n    .map(\n      ({ id, thumbnail, title, brand, category, price }) => `\n      <li class=\"products__item\" data-id=\"${id}\">\n        <img class=\"products__image\" src=\"${thumbnail}\" alt=\"${title}\"/>\n        <p class=\"products__title\">${title}</p>\n        <p class=\"products__brand\">\n          <span class=\"products__brand--bold\">Brand: ${brand}</span>\n        </p>\n        <p class=\"products__category\">Category: ${category}</p>\n        <p class=\"products__price\">Price: ${price}$</p>\n      </li>\n    `\n    )\n    .join('');\n}\nexport function renderProductsWishlist(products) {\n  const productsList = document.querySelector('.products');\n  if (!productsList) return;\n  const markup = products.map(({id, thumbnail, title, brand, category, price}) => `\n       <li class=\"products__item\" data-id=\"${id}\">\n    <img class=\"products__image\" src=\"${thumbnail}\" alt=\"${title}\"/>\n    <p class=\"products__title\">${title}</p>\n    <p class=\"products__brand\"><span class=\"products__brand--bold\">Brand: ${brand}</span></p>\n    <p class=\"products__category\">Category: ${category}</p>\n    <p class=\"products__price\">Price: ${price}$</p>\n </li>`).join('');\n\n  productsList.innerHTML = markup;\n\n}\n\nexport function renderProductsCartlist(products) {\n  const productsList = document.querySelector('.products');\n  if (!productsList) return;\n  const markup = products.map(({id, thumbnail, title, brand, category, price}) => `\n       <li class=\"products__item\" data-id=\"${id}\">\n    <img class=\"products__image\" src=\"${thumbnail}\" alt=\"${title}\"/>\n    <p class=\"products__title\">${title}</p>\n    <p class=\"products__brand\"><span class=\"products__brand--bold\">Brand: ${brand}</span></p>\n    <p class=\"products__category\">Category: ${category}</p>\n    <p class=\"products__price\">Price: ${price}$</p>\n </li>`).join('');\n\n  productsList.innerHTML = markup;\n}\n\n","import axios from \"axios\";\nimport { BASE_URL, ENDPOINTS, PRODUCTS_PER_PAGE } from \"./constants\";\n// –¥–æ–¥–∞—î–º–æ –¥–µ—Ñ–æ–ª—Ç–Ω–æ BASE_URL\naxios.defaults.baseURL = BASE_URL;\n// –∑–∞–ø–∏—Ç –∑–∞ –∫–∞—Ç–µ–≥–æ—Ä—ñ—è–º–∏\nexport async function fetchCategories() {    \n    const { data } = await axios(ENDPOINTS.categories);\n    return data;\n}\nexport async function fetchAllProducts(page) {\n    const skip = (page - 1) * PRODUCTS_PER_PAGE;\n    const options = {\n        params: {\n            limit: PRODUCTS_PER_PAGE,\n            skip,\n    }}\n\n    const { data } = await axios(ENDPOINTS.products, options);\n    // const { data } = await axios(`${ENDPOINTS.products}?limit=${PRODUCTS_PER_PAGE}&skip=${skip}`);\n    return data;\n}\nexport async function fetchProductsByCategory(category, page = 1) {\n    const skip = (page - 1) * PRODUCTS_PER_PAGE;\n  \n    const options = {\n      params: {\n        limit: PRODUCTS_PER_PAGE,\n        skip,\n      },\n    };\n  \n    const { data } = await axios(\n      `${ENDPOINTS.products}/category/${category}`,\n      options\n    );\n  \n    return data;\n}\n//   –∑–∞–ø–∏—Ç –∑–∞ –æ–¥–Ω–∏–º —Ç–æ–≤–∞—Ä–æ–º –ø–æ id\nexport async function fetchProductById(id) {\n    try {\n        const { data } = await axios.get(`${ENDPOINTS.products}/${id}`);\n        return data;\n    } catch (error) {\n        console.error(\"Error fetching product by ID:\", error);\n        return null;\n    }\n}\n// –∑–∞–ø–∏—Ç –∑–∞ –ø–æ—à—É–∫–æ–≤–∏–º —Å–ª–æ–≤–æ–º\nexport async function fetchProductsByQuery(query, page = 1) {\n    const skip = (page - 1) * PRODUCTS_PER_PAGE;\n    try {\n        const { data } = await axios.get(`${ENDPOINTS.products}/search`, {\n            params: {\n                q: query,\n                limit: PRODUCTS_PER_PAGE,\n                skip,\n            },\n        });\n        return data;\n    } catch (error) {\n        console.error('–ü–æ–º–∏–ª–∫–∞ –∑–∞–ø–∏—Ç—É –ø–æ—à—É–∫—É:', error);\n    }\n}","import { DARK_THEME, LIGHT_THEME } from \"./constants\";\nimport { refs } from \"./refs\";\nimport { loadTheme, saveTheme } from \"./storage\";\n\n\nexport function activeFirstBtn() {\n    const firstBtn = document.querySelector('.categories__btn');\n    if (firstBtn) {\n        firstBtn.classList.add('categories__btn--active');\n    }\n}\nexport function showLoader() {\n    document.querySelector('.loader')?.classList.remove('is-hidden');\n  }\n  \n  export function hideLoader() {\n    document.querySelector('.loader')?.classList.add('is-hidden');\n  }\n  \n\nexport function initTheme() {\n    const savedTheme = loadTheme();\n  \n    if (savedTheme) {\n      refs.body.className = savedTheme;\n    } else {\n      refs.body.className = LIGHT_THEME;\n    }\n  }\n  \n  export function toggleTheme() {\n    const isLight = refs.body.classList.contains(LIGHT_THEME);\n    const newTheme = isLight ? DARK_THEME : LIGHT_THEME;\n  \n    refs.body.className = newTheme;\n    saveTheme(newTheme);\n  }\n","\nimport { refs } from './refs';\n\nexport function openModal() {\n    refs.modal.classList.add('modal--is-open');\n\n}\n  \nexport function closeModal() {\n    refs.modal.classList.remove('modal--is-open');\n}\n\nfunction onBackdropClick(e) {\n    if (e.target === refs.modal) {\n      closeModal();\n    }\n  }\n  \n  // üî• –¥–æ–¥–∞—î–º–æ —Å–ª—É—Ö–∞—á—ñ –æ–¥–∏–Ω —Ä–∞–∑\nif (refs.modal) {\n    refs.modalCloseBtn.addEventListener(\"click\", closeModal);\n    refs.modal.addEventListener(\"click\", onBackdropClick);\n    document.addEventListener(\"keydown\", e => {\n        if (e.key === \"Escape\") {\n          closeModal();\n        }\n      });\n}","import iziToast from \"izitoast\";\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { fetchAllProducts, fetchCategories, fetchProductById, fetchProductsByCategory, fetchProductsByQuery } from \"./products-api\";\nimport { hideLoadMoreBtn, renderCategories, renderModalProduct, renderProducts, renderProductsReplace, showLoadMoreBtn } from \"./render-function\";\nimport { activeFirstBtn, hideLoader, showLoader } from \"./helpers\";\nimport { PRODUCTS_PER_PAGE } from \"./constants\";\nimport { refs } from \"./refs\"\nimport { openModal, closeModal } from \"./modal\";\n\nrefs.searchForm.addEventListener('submit', onSearchSubmit);\nrefs.searchFormClearBtn.addEventListener('click', onClearClick);\n\nlet currentQuery = null;\nlet currentPage = 1;\nlet currentCategory = 'ALL';\n\nexport async function getCategories() {\n     try {\n         const data = await fetchCategories();\n         renderCategories(['All', ...data]);\n         activeFirstBtn();\n     } catch (error) {\n       console.log(error);\n         iziToast.error({ message: 'Error!' });\n     }\n}\nexport async function getAllProducts() {\n    try {\n        \n        const data = await fetchAllProducts(currentPage);\n        refs.productsList.innerHTML = '';\n        renderProducts(data.products); \n        if (data.total > PRODUCTS_PER_PAGE) {\n            showLoadMoreBtn();\n        } else {\n            hideLoadMoreBtn();\n        }\n    } catch (error) {\n        console.log(error);\n        iziToast.error({ message: 'Error!' });  \n    }\n}\nexport async function onLoadMoreClick() {\n    try {\n    currentPage += 1;\n      let data;\n      if (currentQuery) {\n        // üîç –∞–∫—Ç–∏–≤–Ω–∏–π –ø–æ—à—É–∫\n        data = await fetchProductsByQuery(currentQuery, currentPage);\n      }\n       else if (currentCategory.toUpperCase() === 'ALL') {\n            data = await fetchAllProducts(currentPage);\n          } else {\n            data = await fetchProductsByCategory(currentCategory, currentPage);\n          }\n      \n          renderProducts(data.products);\n      \n          if (currentPage * PRODUCTS_PER_PAGE >= data.total) {\n            hideLoadMoreBtn();\n          }\n        } catch (error) {\n          iziToast.error({ message: 'Error!' });\n        }\n      }\nexport function setActiveCategory(activeBtn) {\n    document\n      .querySelectorAll('.categories__btn')\n      .forEach(btn =>\n        btn.classList.remove('categories__btn--active')\n      );\n  \n    activeBtn.classList.add('categories__btn--active');\n  }\n\n export async function onCategoryClick(e) {\n  const btn = e.target.closest('.categories__btn');\n  if (!btn) return;\n\n  const category = btn.textContent.trim();\n\n  currentCategory = category.toUpperCase();\n   currentPage = 1;\n   currentQuery = null;\n\n     setActiveCategory(btn);\n     hideLoadMoreBtn();\n\n  refs.notFound.classList.remove('not-found--visible');\n\n  let data;\n\n  if (category.toUpperCase() === 'ALL') {\n      data = await fetchAllProducts(currentPage);\n      showLoadMoreBtn();\n      \n  } else {\n    data = await fetchProductsByCategory(category, currentPage);\n      hideLoadMoreBtn();\n  }\n\n  if (!data.products.length) {\n    refs.notFound.classList.add('not-found--visible');\n      refs.productsList.innerHTML = '';\n    return;\n  }\n  refs.productsList.innerHTML = '';\n  renderProducts(data.products);\n}\n// –ö–ª—ñ–∫ –ø–æ –∫–∞—Ä—Ç—Ü—ñ\nexport async function onProductClick(e) {\n    const card = e.target.closest(\".products__item\");\n    if (!card) return;\n  \n    const id = card.dataset.id;\n    if (!id) return;\n  \n    try {\n        const product = await fetchProductById(id);\n      if (!product) {\n        iziToast.error({ message: \"Product not found!\" });\n        return;\n      }\n  \n      renderModalProduct(product);\n      openModal(); // –≤—ñ–¥–∫—Ä–∏–≤–∞—î–º–æ –º–æ–¥–∞–ª–∫—É\n    } catch (error) {\n      console.error(error);\n      iziToast.error({ message: \"Error loading product!\" });\n    }\n}\nexport function onModalCloseClick() {\n    closeModal();\n}\nexport async function onSearchSubmit(event) {\n  event.preventDefault();\n  showLoader();\n  const query = refs.searchInput.value.trim();\n  if (!query) {\n    iziToast.error({ message: \"–í–≤–µ–¥—ñ—Ç—å –Ω–∞–∑–≤—É —Ç–æ–≤–∞—Ä—É!\" });\n    return;\n  }\n  currentQuery = query;\ncurrentPage = 1;\ncurrentCategory = null; \n  try {\n    const data = await fetchProductsByQuery(query, 1);\n    if (data.total > PRODUCTS_PER_PAGE) {\n      showLoadMoreBtn();\n  } else {\n      hideLoadMoreBtn();\n  }\n    if (!data || !data.products.length) {\n      refs.productsList.innerHTML = '';\n      refs.notFound.classList.add('not-found--visible');\n      return;\n    }\n    refs.notFound.classList.remove('not-found--visible');\n    refs.productsList.innerHTML = '';\n    renderProductsReplace(data.products);\n  } catch (error) {\n    console.error('–ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –ø–æ—à—É–∫—É —Ç–æ–≤–∞—Ä—ñ–≤:', error);\n  } finally {\n    hideLoader();\n  }\n}\n\nexport async function onClearClick() {\n  refs.searchInput.value = '';\n  refs.searchFormClearBtn.classList.remove('visible');\n  refs.notFound.classList.remove('not-found--visible');\n  currentQuery = null;\ncurrentPage = 1;\ncurrentCategory = 'ALL';\n  try {\n    const data = await fetchAllProducts(1); // –µ–Ω–¥–ø–æ—ñ–Ω—Ç ‚Ññ2\n    refs.productsList.innerHTML = '';\n    renderProductsReplace(data.products);\n    if (data.total > PRODUCTS_PER_PAGE) {\n      showLoadMoreBtn();\n    } else {\n      hideLoadMoreBtn();\n    }\n  } catch (error) {\n    console.error('–ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ –≤—Å—ñ—Ö —Ç–æ–≤–∞—Ä—ñ–≤:', error);\n  }\n}\n"],"names":["BASE_URL","PRODUCTS_PER_PAGE","ENDPOINTS","THEME_KEY","LIGHT_THEME","DARK_THEME","getWishlist","data","saveWishlist","wishlist","updateWishlistCount","countEl","getCart","saveCart","cart","updateCartCount","saveTheme","theme","loadTheme","refs","renderCategories","markup","category","renderProducts","products","id","thumbnail","title","brand","price","showLoadMoreBtn","hideLoadMoreBtn","renderModalProduct","product","description","shippingInformation","returnPolicy","tags","tag","cartBtn","onCartBtnClick","wishlistBtn","onWishlistBtnClick","productId","renderProductsReplace","renderProductsWishlist","productsList","renderProductsCartlist","axios","fetchCategories","fetchAllProducts","page","skip","options","fetchProductsByCategory","fetchProductById","error","fetchProductsByQuery","query","activeFirstBtn","firstBtn","showLoader","_a","hideLoader","initTheme","savedTheme","toggleTheme","newTheme","openModal","closeModal","onBackdropClick","e","onSearchSubmit","onClearClick","currentQuery","currentPage","currentCategory","getCategories","iziToast","getAllProducts","onLoadMoreClick","setActiveCategory","activeBtn","btn","onCategoryClick","onProductClick","card","event"],"mappings":"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"}